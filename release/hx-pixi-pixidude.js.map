{
"version":3,
"file":"hx-pixi-pixidude.js",
"sourceRoot":"file://",
"sources":["/haxe/haxe-pixi-demos/src/pixihx/demos/pixidude/Main.hx"],
"sourcesContent":["package pixihx.demos.pixidude;\n\nimport pixi.InteractionData;\nimport pixi.renderers.webgl.WebGLRenderer;\nimport pixi.display.Sprite;\nimport pixi.display.Stage;\nimport pixi.spine.Spine;\nimport pixi.utils.Detector;\nimport pixi.loaders.AssetLoader;\nimport js.Browser;\n\nclass Main {\n\n\tvar _loader:AssetLoader;\n\tvar _renderer:WebGLRenderer;\n\tvar _stage:Stage;\n\n\tvar _pixie:Spine;\n\n\tvar _postition:Float;\n\tvar _background1:Sprite;\n\tvar _background2:Sprite;\n\tvar _foreground1:Sprite;\n\tvar _foreground2:Sprite;\n\n\tpublic function new() {\n\t\t_stage = new Stage(0x00FF00);\n\t\t_renderer = Detector.autoDetectRenderer(800, 600);\n\t\t_renderer.view.style.display = \"block\";\n\t\t_renderer.view.style.width = \"100%\";\n\t\t_renderer.view.style.height = \"100%\";\n\t\tBrowser.document.body.appendChild(_renderer.view);\n\n\t\tvar assetsToLoader:Array<String> = [\"assets/spine/data/PixieSpineData.json\", \"assets/spine/data/Pixie.json\", \"assets/spine/data/iP4_BGtile.jpg\", \"assets/spine/data/iP4_ground.png\"];\n\t\t_loader = new AssetLoader(assetsToLoader);\n\t\t_loader.onComplete = onAssetsLoaded;\n\t\t_loader.load();\n\n\t\t_postition = 0;\n\t\tBrowser.window.requestAnimationFrame(cast animate);\n\t}\n\n\tfunction animate() {\n\t\tBrowser.window.requestAnimationFrame(cast animate);\n\t\t_renderer.render(_stage);\n\t}\n\n\tfunction onAssetsLoaded() {\n\t\t_background1 = Sprite.fromImage(\"assets/spine/data/iP4_BGtile.jpg\");\n\t\t_background2 = Sprite.fromImage(\"assets/spine/data/iP4_BGtile.jpg\");\n\t\t_stage.addChild(_background1);\n\t\t_stage.addChild(_background2);\n\n\t\t_foreground1 = Sprite.fromImage(\"assets/spine/data/iP4_ground.png\");\n\t\t_foreground2 = Sprite.fromImage(\"assets/spine/data/iP4_ground.png\");\n\t\t_stage.addChild(_foreground1);\n\t\t_stage.addChild(_foreground2);\n\t\t_foreground1.position.y = _foreground2.position.y = 640 - _foreground2.height;\n\n\t\t_pixie = new Spine(\"assets/spine/data/PixieSpineData.json\");\n\t\tvar scale = 0.3;\n\n\t\t_pixie.position.x = 1024 / 3;\n\t\t_pixie.position.y = 500;\n\n\t\t_pixie.scale.x = _pixie.scale.y = scale;\n\n\t\t_pixie.stateData.setMixByName(\"running\", \"jump\", 0.2);\n\t\t_pixie.stateData.setMixByName(\"jump\", \"running\", 0.4);\n\n\t\t_pixie.state.setAnimationByName(\"running\", true);\n\n\t\t_stage.addChild(_pixie);\n\n\t\t_stage.click = _stageOnClick;\n\t}\n\n\tfunction _stageOnClick(data:InteractionData) {\n\t\t_pixie.state.setAnimationByName(\"jump\", false);\n\t\t_pixie.state.addAnimationByName(\"running\", true);\n\t}\n\n\tstatic function main() {\n\t\tnew Main();\n\t}\n}"],
"names":[],
"mappings":";;;;;;;6BAyBO,lBAAe;CACrB,EAAS,YAAU;CACnB,EAAY,FAA4B,AAAK;CAC7C,EAA+B;CAC/B,EAA6B;CAC7B,EAA8B;CAC9B,AAAkC;CAEC,AAAC,AAAyC,AAAgC,AAAoC;CACjJ,EAAU,kBAAgB;CAC1B,EAAqB;CACrB;CAEA,EAAa;CACb,AAAqC,AAAK;;kCA2CpC,vBACN;;;;SAzCD,EAAmB;EAClB,DAAqC,AAAK;EAC1C,DAAiB;;gBAGlB,LAA0B;EACzB,CAAe,FAAiB;EAChC,CAAe,FAAiB;EAChC,DAAgB;EAChB,DAAgB;EAEhB,CAAe,FAAiB;EAChC,CAAe,FAAiB;EAChC,DAAgB;EAChB,DAAgB;EAChB,CAA0B,AAA0B,AAAM;EAE1D,CAAS,YAAU;EACP;EAEZ,CAAoB;EACpB,CAAoB;EAEpB,CAAiB,AAAiB;EAElC,DAA8B,AAAW,AAAQ;EACjD,DAA8B,AAAQ,AAAW;EAEjD,DAAgC,AAAW;EAE3C,DAAgB;EAEhB,CAAe;;eAGhB,AAA6C;EAC5C,DAAgC,AAAQ;EACxC,DAAgC,AAAW;;;;;;;;"
}