{
"version":3,
"file":"hx-pixi-spine.js",
"sourceRoot":"file://",
"sources":["/haxe/haxe-pixi-demos/src/pixihx/demos/spine/Main.hx"],
"sourcesContent":["package pixihx.demos.spine;\n\nimport pixi.Pixi;\nimport pixi.display.Sprite;\nimport pixi.display.Stage;\nimport pixi.extras.Spine;\nimport pixi.utils.Detector;\nimport pixi.loaders.AssetLoader;\nimport pixi.display.DisplayObjectContainer;\nimport js.Browser;\n\nclass Main {\n\n    private var _loader:AssetLoader;\n    private var _renderer:Dynamic;\n    private var _stage:Stage;\n\n    private var _spineBoy:Spine;\n\n    public function new() {\n        _stage = new Stage(0x00FF00);\n        _renderer = Detector.autoDetectRenderer(800, 600);\n        _renderer.view.style.display = \"block\";\n        Browser.document.body.appendChild(_renderer.view);\n\n        var assetsToLoader:Array<String> = [\"assets/spine/data/spineboy.json\", \"assets/spine/data/spineboySpineData.json\"];\n    \n        _loader = new AssetLoader(assetsToLoader);\n        _loader.onComplete = onAssetsLoaded;\n        _loader.load();\n        \n        Browser.window.requestAnimationFrame(cast animate);\n    }\n\n    private function animate():Void {\n        Browser.window.requestAnimationFrame(cast animate);\n        _renderer.render(_stage);\n    }\n\n    private function onAssetsLoaded():Void {\n        _spineBoy = new Spine(\"assets/spine/data/spineboySpineData.json\");\n        \n        _spineBoy.position.x = 400;\n        _spineBoy.position.y = 600;\n        \n        _spineBoy.stateData.setMixByName(\"walk\", \"jump\", 0.2);\n        _spineBoy.stateData.setMixByName(\"jump\", \"walk\", 0.4);\n        \n        _spineBoy.state.setAnimationByName(\"walk\", true);\n        \n        _stage.addChild(_spineBoy);\n        \n        _stage.click = _stageOnClick;\n    }\n\n    private function _stageOnClick():Void {\n        _spineBoy.state.setAnimationByName(\"jump\", false);\n        _spineBoy.state.addAnimationByName(\"walk\", true);\n    }\n\n    private static function main() {\n        new Main();\n    }\n}"],
"names":[],
"mappings":";;;;0BAmBU,fAAe;CAClB,EAAS,YAAU;CACnB,EAAY,FAA4B,AAAK;CAC7C,EAA+B;CAC/B,AAAkC;CAEC,AAAC,AAAmC;CAEvE,EAAU,kBAAgB;CAC1B,EAAqB;CACrB;CAEA,AAAqC,AAAK;;+BA6B/B,pBACX;;;;SA3BI,EAAwB;EAC5B,DAAqC,AAAK;EAC1C,DAAiB;;gBAGb,LAA+B;EACnC,CAAY,YAAU;EAEtB,CAAuB;EACvB,CAAuB;EAEvB,DAAiC,AAAQ,AAAQ;EACjD,DAAiC,AAAQ,AAAQ;EAEjD,DAAmC,AAAQ;EAE3C,DAAgB;EAEhB,CAAe;;eAGX,JAA8B;EAClC,DAAmC,AAAQ;EAC3C,DAAmC,AAAQ;;;;;;;;"
}